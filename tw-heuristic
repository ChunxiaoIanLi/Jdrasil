#!/bin/bash

cd jdrasil/src
if [ "$1" == "-s" ]; then
<<<<<<< HEAD
    taskset 0x01 /usr/bin/java  -cp ../../lib/glucose.jar:../../lib/glucosep.jar:../../lib/pblib.jar:. -Djava.library.path=../../lib/glucose/simp/:../../lib/glucose/parallel:../../lib/pblib de.uniluebeck.tcs.App  -heuristic -s $2  -e PBLib_incremental <&0 &
else
    taskset 0x01 /usr/bin/java  -cp ../../lib/glucose.jar:../../lib/glucosep.jar:../../lib/pblib.jar:. -Djava.library.path=../../lib/glucose/simp/:../../lib/glucose/parallel:../../lib/pblib de.uniluebeck.tcs.App  -heuristic  -e PBLib_incremental <&0 &
=======
    EXEC  -cp ../../lib/glucose.jar:../../lib/glucosep.jar:../../lib/pblib.jar:. -Djava.library.path=../../lib/glucose/simp/:../../lib/glucose/parallel:../../lib/pblib de.uniluebeck.tcs.App  -heuristic -s $2  -e PBLib_incremental <&0 &
else
     EXEC  -cp ../../lib/glucose.jar:../../lib/glucosep.jar:../../lib/pblib.jar:. -Djava.library.path=../../lib/glucose/simp/:../../lib/glucose/parallel:../../lib/pblib de.uniluebeck.tcs.App  -heuristic  -e PBLib_incremental <&0 &
>>>>>>> 2b70de1d013bdc2a20fb0797da683d6a018f0d4a
fi
    
PID=$!
trap "kill -SIGUSR2 $PID" SIGUSR1
trap "kill -SIGTERM $PID" SIGTERM

while :
do
    wait $PID
    kill -0 $PID 2> /dev/null || break
done



